package com.pkart.dao;

import java.util.HashMap;
import java.util.List;
import java.util.Map;


import com.pkart.model.Cart;
import com.pkart.model.Product;


public class CartDaoImpl implements ICartDao{

	
	public static Map<Integer,Cart> carts;
	public CartDaoImpl(){
	
	if(carts==null) {
		carts=new HashMap<>();
		
	}
	}
	@Override
	public void addItem(int cartId, Product product) {
		System.out.println("hello");
		
		if (cart.getProducts()==null) {
			List<Product> blank = new List<Product>();
			Cart cart = new(cartId,new List<Product>());
			carts.put(new Integer((cart.getId()), new Cart(cartId),new List<Product>());
		}
		Cart cart=carts.get(new Integer(cartId));
		List<Product> items= cart.getProducts();
		items.add(product);
		cart.setProducts(items);
		carts.put(new Integer(cart.getId()), cart);
		
	}
	@Override
	public void removeItem(int cartId, Product product) {
		Cart cart=carts.get(new Integer(cartId));
		List<Product> items= cart.getProducts();
		if (items.contains(product)){
		items.remove(product);
		}
		cart.setProducts(items);
		carts.put(new Integer(cart.getId()), cart);	
		
	}
	
	@Override
	public Cart viewCart(int cartId) {
		return carts.get(cartId);
	}
	
	
	
	
	
}
